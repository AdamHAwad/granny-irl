(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8591:function(e,t,n){Promise.resolve().then(n.bind(n,857)),Promise.resolve().then(n.t.bind(n,3247,23)),Promise.resolve().then(n.t.bind(n,8877,23))},857:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return l}});var o=n(7437),r=n(2265),i=n(6881);let s=(0,r.createContext)(void 0);function u(e){let{children:t}=e,[n,u]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[a,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await i.O.auth.getSession();c(t),u(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),h(!1)})();let{data:{subscription:e}}=i.O.auth.onAuthStateChange(async(e,t)=>{var n;c(t),u(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),h(!1)});return()=>e.unsubscribe()},[]);let d=async()=>{try{console.log("signInWithGoogle called"),console.log("NODE_ENV:","production");let e="https://granny-irl.vercel.app/";console.log("Redirect URL:",e);let{error:t}=await i.O.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}});if(console.log("OAuth result:",{error:t}),t)throw t}catch(e){console.error("Error signing in with Google:",e)}},I=async()=>{try{let{error:e}=await i.O.auth.signOut();if(e)throw e}catch(e){console.error("Error signing out:",e)}};return(0,o.jsx)(s.Provider,{value:{user:n,session:l,loading:a,signInWithGoogle:d,logout:I},children:t})}function l(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6881:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});let o=(0,n(34).eI)("https://vyybwuzpwvrwpbtoreoz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5eWJ3dXpwd3Zyd3BidG9yZW96Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwODc2MjYsImV4cCI6MjA2OTY2MzYyNn0.3Hg9ercrUA7y4VRK973dIO99TMSIjzNOuWo2XSWHTJU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})},8877:function(){},3247:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}}},function(e){e.O(0,[569,34,971,23,744],function(){return e(e.s=8591)}),_N_E=e.O()}]);